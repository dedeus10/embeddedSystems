<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RealTime_Home: AT25DFx SerialFlash Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RealTime_Home
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__asfdoc__common2__at25dfx__group.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">AT25DFx SerialFlash Driver</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structat25dfx__chip__config.html">at25dfx_chip_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga6797a814b041014cef23de480c9da9ef"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a></td></tr>
<tr class="separator:ga6797a814b041014cef23de480c9da9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebf176d512c4cc61390aef7159ddccb9"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaebf176d512c4cc61390aef7159ddccb9">at25dfx_datalen_t</a></td></tr>
<tr class="separator:gaebf176d512c4cc61390aef7159ddccb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga98ba30dd90f741beb7f8d47e7725471d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga98ba30dd90f741beb7f8d47e7725471d">at25dfx_type</a> { <br />
&#160;&#160;<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dabbf1e1dd637f606098ae4ccac417ab14">AT25DFX_512B</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471da7190685f36888e0fc72a10ec34f1c6f7">AT25DFX_021</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dab04ef01e6fa145d7a0a3472974978404">AT25DFX_041A</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471da9a5f9c0b38017fce506e65e5fcfccf1c">AT25DFX_081</a>, 
<br />
&#160;&#160;<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471da958e4a75f1080b2e6ae0a8ad53d46189">AT25DFX_081A</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dacf36c8ececd590e2ebf63524ec6b8e00">AT25DFX_161</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dac4cdd46ba3dfb0894e6f0b0502d2568e">AT25DFX_L161</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471da07eaaa7f5f50f718d8523bc5ecceeb61">AT25DFX_Q161</a>, 
<br />
&#160;&#160;<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dab1b556b612d1dfc5786da5196fea6fe1">AT25DFX_321A</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dabe078bc157dc861a62e7bc5539bf0bd1">AT25DFX_641</a>
<br />
 }</td></tr>
<tr class="separator:ga98ba30dd90f741beb7f8d47e7725471d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b6ad4d489afc2892947e731f9be059b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga1b6ad4d489afc2892947e731f9be059b">at25dfx_block_size</a> { <a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga1b6ad4d489afc2892947e731f9be059ba1803edc936dff9e00b22bb1665c5f4e0">AT25DFX_BLOCK_SIZE_4KB</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga1b6ad4d489afc2892947e731f9be059badb4fdfe58350143efe009cc15e39b52a">AT25DFX_BLOCK_SIZE_32KB</a>, 
<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga1b6ad4d489afc2892947e731f9be059baebd2ecf4d5e40c0fa33506d7fa4fb0fd">AT25DFX_BLOCK_SIZE_64KB</a>
 }</td></tr>
<tr class="separator:ga1b6ad4d489afc2892947e731f9be059b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Presence</h2></td></tr>
<tr class="memitem:gabc77a5e6b7714d6a3731505b24ac5082"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gabc77a5e6b7714d6a3731505b24ac5082">at25dfx_chip_check_presence</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip)</td></tr>
<tr class="memdesc:gabc77a5e6b7714d6a3731505b24ac5082"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check presence of chip.  <a href="#gabc77a5e6b7714d6a3731505b24ac5082">More...</a><br /></td></tr>
<tr class="separator:gabc77a5e6b7714d6a3731505b24ac5082"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Read/Write</h2></td></tr>
<tr class="memitem:ga867ff68dbb3def1fbac0c9359ea7e36e"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga867ff68dbb3def1fbac0c9359ea7e36e">at25dfx_chip_read_buffer</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a> address, void *data, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaebf176d512c4cc61390aef7159ddccb9">at25dfx_datalen_t</a> length)</td></tr>
<tr class="memdesc:ga867ff68dbb3def1fbac0c9359ea7e36e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from chip.  <a href="#ga867ff68dbb3def1fbac0c9359ea7e36e">More...</a><br /></td></tr>
<tr class="separator:ga867ff68dbb3def1fbac0c9359ea7e36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga680dae17472f869582c92512d4995dcc"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga680dae17472f869582c92512d4995dcc">at25dfx_chip_write_buffer</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a> address, const void *data, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaebf176d512c4cc61390aef7159ddccb9">at25dfx_datalen_t</a> length)</td></tr>
<tr class="memdesc:ga680dae17472f869582c92512d4995dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to chip.  <a href="#ga680dae17472f869582c92512d4995dcc">More...</a><br /></td></tr>
<tr class="separator:ga680dae17472f869582c92512d4995dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Erase</h2></td></tr>
<tr class="memitem:gae996a3088d79878787756de3a53f7651"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gae996a3088d79878787756de3a53f7651">at25dfx_chip_erase</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip)</td></tr>
<tr class="memdesc:gae996a3088d79878787756de3a53f7651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase chip.  <a href="#gae996a3088d79878787756de3a53f7651">More...</a><br /></td></tr>
<tr class="separator:gae996a3088d79878787756de3a53f7651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb524f227dc6a286a4a6d5f2d19aed1f"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gacb524f227dc6a286a4a6d5f2d19aed1f">at25dfx_chip_erase_block</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a> address, enum <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga1b6ad4d489afc2892947e731f9be059b">at25dfx_block_size</a> block_size)</td></tr>
<tr class="memdesc:gacb524f227dc6a286a4a6d5f2d19aed1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase block.  <a href="#gacb524f227dc6a286a4a6d5f2d19aed1f">More...</a><br /></td></tr>
<tr class="separator:gacb524f227dc6a286a4a6d5f2d19aed1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Sector Protect</h2></td></tr>
<tr class="memitem:gab9a4079fe6c6fee840cb296843d27500"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gab9a4079fe6c6fee840cb296843d27500">at25dfx_chip_set_global_sector_protect</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip, <a class="el" href="group__group__sam0__utils.html#ga97a80ca1602ebf2303258971a2c938e2">bool</a> protect)</td></tr>
<tr class="memdesc:gab9a4079fe6c6fee840cb296843d27500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set sector protection globally.  <a href="#gab9a4079fe6c6fee840cb296843d27500">More...</a><br /></td></tr>
<tr class="separator:gab9a4079fe6c6fee840cb296843d27500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c1adc1ecbcc27fbe88f5d57bfa0591c"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga2c1adc1ecbcc27fbe88f5d57bfa0591c">at25dfx_chip_set_sector_protect</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a> address, <a class="el" href="group__group__sam0__utils.html#ga97a80ca1602ebf2303258971a2c938e2">bool</a> protect)</td></tr>
<tr class="memdesc:ga2c1adc1ecbcc27fbe88f5d57bfa0591c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set protection setting of a single sector.  <a href="#ga2c1adc1ecbcc27fbe88f5d57bfa0591c">More...</a><br /></td></tr>
<tr class="separator:ga2c1adc1ecbcc27fbe88f5d57bfa0591c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa811a5f0cad3fba016aef4ae128b8207"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaa811a5f0cad3fba016aef4ae128b8207">at25dfx_chip_get_sector_protect</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip, <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a> address, <a class="el" href="group__group__sam0__utils.html#ga97a80ca1602ebf2303258971a2c938e2">bool</a> *protect)</td></tr>
<tr class="memdesc:gaa811a5f0cad3fba016aef4ae128b8207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get protection setting of a single sector.  <a href="#gaa811a5f0cad3fba016aef4ae128b8207">More...</a><br /></td></tr>
<tr class="separator:gaa811a5f0cad3fba016aef4ae128b8207"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Sleep/Wake</h2></td></tr>
<tr class="memitem:ga9a5ea9405eedcf45f3846b3e74f227a3"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga9a5ea9405eedcf45f3846b3e74f227a3">at25dfx_chip_sleep</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip)</td></tr>
<tr class="memdesc:ga9a5ea9405eedcf45f3846b3e74f227a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put device to sleep.  <a href="#ga9a5ea9405eedcf45f3846b3e74f227a3">More...</a><br /></td></tr>
<tr class="separator:ga9a5ea9405eedcf45f3846b3e74f227a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66d2ea2176179b7e6cb06901bb2bdc05"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga66d2ea2176179b7e6cb06901bb2bdc05">at25dfx_chip_wake</a> (struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *chip)</td></tr>
<tr class="memdesc:ga66d2ea2176179b7e6cb06901bb2bdc05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake device from sleep.  <a href="#ga66d2ea2176179b7e6cb06901bb2bdc05">More...</a><br /></td></tr>
<tr class="separator:ga66d2ea2176179b7e6cb06901bb2bdc05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78981ccb6b863d6548f343fe01792406"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structspi__module.html">spi_module</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga78981ccb6b863d6548f343fe01792406">at25dfx_spi_module_t</a></td></tr>
<tr class="separator:ga78981ccb6b863d6548f343fe01792406"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This driver provides an interface for basic usage of SerialFlash devices, i.e., read/write, global and local protect/unprotect of sectors, and sleep/wake.</p>
<p>It supports multiple instances, and the instances can be connected to either common or individual SPI interfaces. For a list of the supported SerialFlash types, see <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga98ba30dd90f741beb7f8d47e7725471d">at25dfx_type</a>.</p>
<p>The following peripherals are used by this module:</p><ul>
<li>SERCOM SPI (data transfer)</li>
<li><a class="el" href="group___s_a_m_d21_j18_a__base.html#ga614217d263be1fb1a5f76e2ff7be19a2">PORT</a> (chip selection)</li>
</ul>
<p>The outline of this documentation is as follows:</p><ul>
<li><a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_common2_at25dfx_prerequisites">Prerequisites</a></li>
<li><a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_common2_at25dfx_module_overview">Module Overview</a></li>
<li><a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_common2_at25dfx_special_considerations">Special Considerations</a></li>
<li><a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_common2_at25dfx_extra_info">Extra Information</a></li>
<li><a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_common2_at25dfx_examples">Examples</a></li>
<li><a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_common2_at25dfx_api_overview">API Overview</a></li>
</ul>
<h1><a class="anchor" id="asfdoc_common2_at25dfx_prerequisites"></a>
Prerequisites</h1>
<p>This driver requires that the SPI drivers are instantiated, initialized and enabled by the user, and that the SPI instances are persistent for as long as the associated instances of this driver exist or are used. To ensure persistence of the SPI instances, the convention is to define them in the same scope as the instances of this driver, which is usually a global one.</p>
<p>The hardware abstraction layer (HAL) of this driver supports several SPI driver implementations, but not at the same time. So for a given project, one must select which implementation to support, and use it for all instances. The reader is assumed to be familiar with how to configure and initialize the SPI drivers, but the basic configuration to use is supplied by this driver's HAL:</p><ul>
<li>at25dfx_spi_get_config_defaults() for polled SERCOM SPI</li>
<li>at25dfx_spi_master_vec_get_config_defaults() for SERCOM SPI Master with Vectored I/O</li>
</ul>
<p>To ensure correct operation, the user should not change anything in the base configuration except the baud rate, the SERCOM MUX and the pin MUX settings.</p>
<h1><a class="anchor" id="asfdoc_common2_at25dfx_module_overview"></a>
Module Overview</h1>
<p>This driver enables the user to do basic operations on SerialFlash devices in the AT25DFx series, such as checking their presence, reading from and writing to them, putting them to sleep and waking them back up when needed. Basic security is implemented, i.e., sector protection to prevent accidental erase and write. Functionality for permanently locking and securing AT25DFx devices is not implemented in this driver.</p>
<p>Each instance of this driver corresponds to a single AT25DFx device, and must be associated with an instance of the SPI driver supported by the selected HAL implementation, as well as a PORT pin for chip select (CS).</p>
<p>All functions of this driver are blocking, which means that they do not return until the initiated operation completes. Further, since the selected HAL might use an interrupt-driven driver, this driver should not be used within interrupts.</p>
<h2><a class="anchor" id="asfdoc_common2_at25dfx_module_spi_share"></a>
SPI Bus Sharing</h2>
<p>SerialFlash devices can share a SPI bus, due to the use of CS lines. SPI bus sharing is supported by this driver without any special configuration. To share a SPI bus, simply associate the same SPI driver instance to multiple instances of this driver.</p>
<p>The <a class="el" href="group__asfdoc__common2__at25dfx__group.html#asfdoc_sam0_at25dfx_example">figure below</a> illustrates an example where two out of three instances of this driver are associated with the same SPI driver instance.</p>
<p><a class="anchor" id="asfdoc_sam0_at25dfx_example"></a></p><div class="image">
<img src="at25dfx.png" alt="at25dfx.png"/>
<div class="caption">
AT25DFx and SPI instance sharing.</div></div>
<h2><a class="anchor" id="asfdoc_common2_at25dfx_module_threads"></a>
Use in Threaded Environments</h2>
<p>The functions of this driver rely on the locking mechanism in the SPI drivers to ensure exclusive access to a SPI driver instance for the entire duration of an operation, such as writing data to the AT25DFx device. They will not wait for an already locked instance to be unlocked. Instead, they will simply return a status code indicating that it was busy.</p>
<p>This behavior means that the functions are thread safe in the sense that no two operations may interfere with each other. It also means that there is no queueing of operations. Assuming the illustration above was a multi-threaded application, it would have to wait for an operation on AT25DFx instance #2 to end before one could be initiated on instance #3, and vice versa. If queueing of operations is needed, it must be implemented as a layer on top of this driver.</p>
<p>Be aware that the protocol implementation in this driver is not interrupt- driven, and the HAL may use a polled driver. Hence, an on-going operation may be temporarily paused if the MCU switches threads.</p>
<h1><a class="anchor" id="asfdoc_common2_at25dfx_special_considerations"></a>
Special Considerations</h1>
<h2><a class="anchor" id="asfdoc_common2_at25dfx_special_dev"></a>
Device Specifics</h2>
<p>The available erase block sizes, and the availability and granularity of protection sectors may differ between devices.</p>
<p>For example, with AT25F512B (<a class="el" href="group__asfdoc__common2__at25dfx__group.html#gga98ba30dd90f741beb7f8d47e7725471dabbf1e1dd637f606098ae4ccac417ab14">AT25DFX_512B</a>), issuing a 64 kB block erase command will cause a 32 kB erase, and it does not support setting protection on individual sectors, only globally.</p>
<p>Refer to the SerialFlash device's datasheet for details about which operations are supported and what limitations apply to them.</p>
<h2><a class="anchor" id="asfdoc_common2_at25dfx_special_flash"></a>
Flash Memory Behavior</h2>
<p>The reader should be aware of some details of how flash memory generally functions:</p><ol type="1">
<li>Erasing a flash memory block means that all bits in the block are reset to a high level (logical "1"), i.e., all bytes will read as <code>0xFF</code>.</li>
<li>Writing to a flash memory location will only set relevant bits to a low level (logical "0"), never to a high level.</li>
<li>It is possible to write several times to a flash memory block without erasing, but there may be limitations on the number of times it can be done.</li>
</ol>
<h1><a class="anchor" id="asfdoc_common2_at25dfx_extra_info"></a>
Extra Information</h1>
<p>For extra information, see <a class="el" href="asfdoc_common2_at25dfx_extra.html">Extra Information for AT25DFx SerialFlash Driver</a>. This includes:</p><ul>
<li><a class="el" href="asfdoc_common2_at25dfx_extra.html#asfdoc_common2_at25dfx_extra_acronyms">Acronyms</a></li>
<li><a class="el" href="asfdoc_common2_at25dfx_extra.html#asfdoc_common2_at25dfx_extra_dependencies">Dependencies</a></li>
<li><a class="el" href="asfdoc_common2_at25dfx_extra.html#asfdoc_common2_at25dfx_extra_errata">Errata</a></li>
<li><a class="el" href="asfdoc_common2_at25dfx_extra.html#asfdoc_common2_at25dfx_extra_history">Module History</a></li>
</ul>
<h1><a class="anchor" id="asfdoc_common2_at25dfx_examples"></a>
Examples</h1>
<p>For a list of examples related to this driver, see <a class="el" href="asfdoc_common2_at25dfx_exqsg.html">Examples for AT25DFx SerialFlash Driver</a>.</p>
<h1><a class="anchor" id="asfdoc_common2_at25dfx_api_overview"></a>
API Overview</h1>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga6797a814b041014cef23de480c9da9ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6797a814b041014cef23de480c9da9ef">&#9670;&nbsp;</a></span>at25dfx_address_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SerialFlash internal address. </p>

</div>
</div>
<a id="gaebf176d512c4cc61390aef7159ddccb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebf176d512c4cc61390aef7159ddccb9">&#9670;&nbsp;</a></span>at25dfx_datalen_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaebf176d512c4cc61390aef7159ddccb9">at25dfx_datalen_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of data package to read/write. </p>

</div>
</div>
<a id="ga78981ccb6b863d6548f343fe01792406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78981ccb6b863d6548f343fe01792406">&#9670;&nbsp;</a></span>at25dfx_spi_module_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structspi__module.html">spi_module</a> <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga78981ccb6b863d6548f343fe01792406">at25dfx_spi_module_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Typedef for SPI HAL </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga1b6ad4d489afc2892947e731f9be059b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1b6ad4d489afc2892947e731f9be059b">&#9670;&nbsp;</a></span>at25dfx_block_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga1b6ad4d489afc2892947e731f9be059b">at25dfx_block_size</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of block to erase. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga1b6ad4d489afc2892947e731f9be059ba1803edc936dff9e00b22bb1665c5f4e0"></a>AT25DFX_BLOCK_SIZE_4KB&#160;</td><td class="fielddoc"><p>4 kiloByte block size. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b6ad4d489afc2892947e731f9be059badb4fdfe58350143efe009cc15e39b52a"></a>AT25DFX_BLOCK_SIZE_32KB&#160;</td><td class="fielddoc"><p>32 kiloByte block size. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga1b6ad4d489afc2892947e731f9be059baebd2ecf4d5e40c0fa33506d7fa4fb0fd"></a>AT25DFX_BLOCK_SIZE_64KB&#160;</td><td class="fielddoc"><p>64 kiloByte block size. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga98ba30dd90f741beb7f8d47e7725471d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98ba30dd90f741beb7f8d47e7725471d">&#9670;&nbsp;</a></span>at25dfx_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga98ba30dd90f741beb7f8d47e7725471d">at25dfx_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SerialFlash type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471dabbf1e1dd637f606098ae4ccac417ab14"></a>AT25DFX_512B&#160;</td><td class="fielddoc"><p>AT25F512B, compatible with AT25BCM512B </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471da7190685f36888e0fc72a10ec34f1c6f7"></a>AT25DFX_021&#160;</td><td class="fielddoc"><p>AT25DF021 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471dab04ef01e6fa145d7a0a3472974978404"></a>AT25DFX_041A&#160;</td><td class="fielddoc"><p>AT25DF041A </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471da9a5f9c0b38017fce506e65e5fcfccf1c"></a>AT25DFX_081&#160;</td><td class="fielddoc"><p>AT25DF081, compatible with AT25DL081 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471da958e4a75f1080b2e6ae0a8ad53d46189"></a>AT25DFX_081A&#160;</td><td class="fielddoc"><p>AT25DF081A, compatible with AT26DF081A </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471dacf36c8ececd590e2ebf63524ec6b8e00"></a>AT25DFX_161&#160;</td><td class="fielddoc"><p>AT25DF161 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471dac4cdd46ba3dfb0894e6f0b0502d2568e"></a>AT25DFX_L161&#160;</td><td class="fielddoc"><p>AT25DL161 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471da07eaaa7f5f50f718d8523bc5ecceeb61"></a>AT25DFX_Q161&#160;</td><td class="fielddoc"><p>AT25DQ161 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471dab1b556b612d1dfc5786da5196fea6fe1"></a>AT25DFX_321A&#160;</td><td class="fielddoc"><p>AT25DF321A </p>
</td></tr>
<tr><td class="fieldname"><a id="gga98ba30dd90f741beb7f8d47e7725471dabe078bc157dc861a62e7bc5539bf0bd1"></a>AT25DFX_641&#160;</td><td class="fielddoc"><p>AT25DF641, compatible with AT25DF641A </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabc77a5e6b7714d6a3731505b24ac5082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc77a5e6b7714d6a3731505b24ac5082">&#9670;&nbsp;</a></span>at25dfx_chip_check_presence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_check_presence </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check presence of chip. </p>
<p>This function checks whether or not the SerialFlash device is present by attempting to read out its device ID, and comparing it with the one that its type should have.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if chip responded with ID matching its type. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
    <tr><td class="paramname">STATUS_ERR_NOT_FOUND</td><td>if chip did not respond, or with wrong ID. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae996a3088d79878787756de3a53f7651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae996a3088d79878787756de3a53f7651">&#9670;&nbsp;</a></span>at25dfx_chip_erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_erase </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase chip. </p>
<p>This function erases all content of the SerialFlash device.</p>
<dl class="section pre"><dt>Precondition</dt><dd>All sectors must be unprotected prior to a chip erase, or it will not be performed.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gab9a4079fe6c6fee840cb296843d27500" title="Set sector protection globally.">at25dfx_chip_set_global_sector_protect()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_ERR_IO</td><td>if operation failed. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacb524f227dc6a286a4a6d5f2d19aed1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb524f227dc6a286a4a6d5f2d19aed1f">&#9670;&nbsp;</a></span>at25dfx_chip_erase_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_erase_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga1b6ad4d489afc2892947e731f9be059b">at25dfx_block_size</a>&#160;</td>
          <td class="paramname"><em>block_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Erase block. </p>
<p>This function erases all content within a block of the SerialFlash device.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The sector(s) which the block resides in must be unprotected prior to a block erase, or it will not be performed.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga2c1adc1ecbcc27fbe88f5d57bfa0591c" title="Set protection setting of a single sector.">at25dfx_chip_set_sector_protect()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The alignment of the erase blocks is given by the erase block size. The SerialFlash device will simply ignore address bits which index within the block. For example, doing a 4 kB block erase with the start address set to the 2 kB boundary will cause the first 4 kB to get erased, not 4 kB starting at the 2 kB boundary.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address within the block to erase. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_size</td><td>Size of block to erase.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_ERR_IO</td><td>if operation failed. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
    <tr><td class="paramname">STATUS_ERR_INVALID_ARG</td><td>if address is out of bounds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa811a5f0cad3fba016aef4ae128b8207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa811a5f0cad3fba016aef4ae128b8207">&#9670;&nbsp;</a></span>at25dfx_chip_get_sector_protect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_get_sector_protect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__sam0__utils.html#ga97a80ca1602ebf2303258971a2c938e2">bool</a> *&#160;</td>
          <td class="paramname"><em>protect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get protection setting of a single sector. </p>
<p>This function gets the protect setting of a single sector.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga2c1adc1ecbcc27fbe88f5d57bfa0591c" title="Set protection setting of a single sector.">at25dfx_chip_set_sector_protect()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address within sector to get setting of. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bool</td><td>Address of variable to store the setting to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
    <tr><td class="paramname">STATUS_ERR_INVALID_ARG</td><td>if address is out of bounds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga867ff68dbb3def1fbac0c9359ea7e36e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga867ff68dbb3def1fbac0c9359ea7e36e">&#9670;&nbsp;</a></span>at25dfx_chip_read_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_read_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaebf176d512c4cc61390aef7159ddccb9">at25dfx_datalen_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from chip. </p>
<p>This function reads data from the SerialFlash device, into a buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>SerialFlash internal address to start reading from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Buffer to write data into. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
    <tr><td class="paramname">STATUS_ERR_INVALID_ARG</td><td>if address and/or length is out of bounds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab9a4079fe6c6fee840cb296843d27500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9a4079fe6c6fee840cb296843d27500">&#9670;&nbsp;</a></span>at25dfx_chip_set_global_sector_protect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_set_global_sector_protect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__sam0__utils.html#ga97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td>
          <td class="paramname"><em>protect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set sector protection globally. </p>
<p>This function applies a protect setting to all sectors.</p>
<dl class="section note"><dt>Note</dt><dd>Global setting of sector protection is done by writing to the status register of the device.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bool</td><td>Protection setting to apply. <ul>
<li><code>true</code> if the sectors should be protected. </li>
<li><code>false</code> if the sectors should be unprotected.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if write operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2c1adc1ecbcc27fbe88f5d57bfa0591c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c1adc1ecbcc27fbe88f5d57bfa0591c">&#9670;&nbsp;</a></span>at25dfx_chip_set_sector_protect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_set_sector_protect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__sam0__utils.html#ga97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td>
          <td class="paramname"><em>protect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set protection setting of a single sector. </p>
<p>This function applies a protect setting to a single sector.</p>
<dl class="section note"><dt>Note</dt><dd>The granularity of the sectors for protection can vary between SerialFlash devices and is not necessarily uniform. Please refer to the datasheet for details.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address within sector to protect. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bool</td><td>Protection setting to apply. <ul>
<li><code>true</code> if the sector should be protected. </li>
<li><code>false</code> if the sector should be unprotected.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if write operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
    <tr><td class="paramname">STATUS_ERR_INVALID_ARG</td><td>if address is out of bounds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9a5ea9405eedcf45f3846b3e74f227a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a5ea9405eedcf45f3846b3e74f227a3">&#9670;&nbsp;</a></span>at25dfx_chip_sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_sleep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put device to sleep. </p>
<p>This function puts the SerialFlash device to sleep for the purpose of reducing power consumption while the device is not needed.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga66d2ea2176179b7e6cb06901bb2bdc05" title="Wake device from sleep.">at25dfx_chip_wake()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The device will not respond to any commands until it is woken up.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if write operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga66d2ea2176179b7e6cb06901bb2bdc05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66d2ea2176179b7e6cb06901bb2bdc05">&#9670;&nbsp;</a></span>at25dfx_chip_wake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_wake </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake device from sleep. </p>
<p>This function wakes the SerialFlash device from sleep.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga9a5ea9405eedcf45f3846b3e74f227a3" title="Put device to sleep.">at25dfx_chip_sleep()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if write operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga680dae17472f869582c92512d4995dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga680dae17472f869582c92512d4995dcc">&#9670;&nbsp;</a></span>at25dfx_chip_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__group__sam0__utils__status__codes.html#ga751c892e5a46b8e7d282085a5a5bf151">status_code</a> at25dfx_chip_write_buffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structat25dfx__chip__module.html">at25dfx_chip_module</a> *&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#ga6797a814b041014cef23de480c9da9ef">at25dfx_address_t</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__asfdoc__common2__at25dfx__group.html#gaebf176d512c4cc61390aef7159ddccb9">at25dfx_datalen_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to chip. </p>
<p>This function writes data to the SerialFlash device, from a buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">chip</td><td>Address of SerialFlash chip instance to operate on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>SerialFlash internal address to start writing to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Buffer to read data from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">STATUS_OK</td><td>if operation succeeded. </td></tr>
    <tr><td class="paramname">STATUS_ERR_IO</td><td>if operation failed. </td></tr>
    <tr><td class="paramname">STATUS_BUSY</td><td>if SPI is busy with some other operation. </td></tr>
    <tr><td class="paramname">STATUS_ERR_INVALID_ARG</td><td>if address and/or length is out of bounds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
