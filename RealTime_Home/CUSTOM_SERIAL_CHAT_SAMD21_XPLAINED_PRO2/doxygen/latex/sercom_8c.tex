\hypertarget{sercom_8c}{}\section{A\+S\+F/sam0/drivers/sercom/sercom.c File Reference}
\label{sercom_8c}\index{ASF/sam0/drivers/sercom/sercom.c@{ASF/sam0/drivers/sercom/sercom.c}}


S\+AM Serial Peripheral Interface Driver.  


{\ttfamily \#include \char`\"{}sercom.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct__sercom__conf}{\+\_\+sercom\+\_\+conf}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{sercom_8c_ac179eef68bcc694aa0ef8dd1eb09950b}{S\+H\+I\+FT}}~32
\item 
\#define \mbox{\hyperlink{sercom_8c_a573042a67c3d9987b574c99820eb92f3}{B\+A\+U\+D\+\_\+\+I\+N\+T\+\_\+\+M\+AX}}~8192
\item 
\#define \mbox{\hyperlink{sercom_8c_adc38f1980cdcb7fca690ebe75c50770c}{B\+A\+U\+D\+\_\+\+F\+P\+\_\+\+M\+AX}}~8
\item 
\#define \mbox{\hyperlink{sercom_8c_aabc8e1e262250a3c12ab82869fb9dbe8}{\+\_\+\+S\+E\+R\+C\+O\+M\+\_\+\+P\+A\+D\+\_\+\+D\+E\+F\+A\+U\+L\+T\+S\+\_\+\+C\+A\+SE}}(n,  pad)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\+\_\+code}} \mbox{\hyperlink{sercom_8c_afe45ab81cd4f98d88e53dfb636b22067}{\+\_\+sercom\+\_\+get\+\_\+sync\+\_\+baud\+\_\+val}} (const uint32\+\_\+t baudrate, const uint32\+\_\+t external\+\_\+clock, uint16\+\_\+t $\ast$const baudvalue)
\item 
enum \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\+\_\+code}} \mbox{\hyperlink{sercom_8c_a7cdb50f562d8dd6f57b479d411d749f8}{\+\_\+sercom\+\_\+get\+\_\+async\+\_\+baud\+\_\+val}} (const uint32\+\_\+t baudrate, const uint32\+\_\+t peripheral\+\_\+clock, uint16\+\_\+t $\ast$const baudval, enum \mbox{\hyperlink{drivers_2sercom_2sercom_8h_a05f9e8b65fff0120fce38ee4ddd40386}{sercom\+\_\+asynchronous\+\_\+operation\+\_\+mode}} mode, enum \mbox{\hyperlink{drivers_2sercom_2sercom_8h_a6936fb2a7711cb55dc717256bbcacb12}{sercom\+\_\+asynchronous\+\_\+sample\+\_\+num}} sample\+\_\+num)
\item 
enum \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\+\_\+code}} \mbox{\hyperlink{sercom_8c_a11de7a16f2be1223a140bfe1cd7bddca}{sercom\+\_\+set\+\_\+gclk\+\_\+generator}} (const enum \mbox{\hyperlink{group__asfdoc__sam0__system__clock__group_ga1ab9bb87560ad127ed982591b7d67311}{gclk\+\_\+generator}} generator\+\_\+source, const \mbox{\hyperlink{group__group__sam0__utils_ga97a80ca1602ebf2303258971a2c938e2}{bool}} force\+\_\+change)
\begin{DoxyCompactList}\small\item\em Set G\+C\+LK channel to generator. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{sercom_8c_aed7ed6bae9edba2fec050eaaf6ab1b7c}{\+\_\+sercom\+\_\+get\+\_\+default\+\_\+pad}} (\mbox{\hyperlink{union_sercom}{Sercom}} $\ast$const sercom\+\_\+module, const uint8\+\_\+t pad)
\item 
uint8\+\_\+t \mbox{\hyperlink{sercom_8c_af3213138e698446dc57b4844114ce93e}{\+\_\+sercom\+\_\+get\+\_\+sercom\+\_\+inst\+\_\+index}} (\mbox{\hyperlink{union_sercom}{Sercom}} $\ast$const sercom\+\_\+instance)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\+AM Serial Peripheral Interface Driver. 

Copyright (c) 2012-\/2018 Microchip Technology Inc. and its subsidiaries.

\textbackslash{}asf\+\_\+license\+\_\+start 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{sercom_8c_aabc8e1e262250a3c12ab82869fb9dbe8}\label{sercom_8c_aabc8e1e262250a3c12ab82869fb9dbe8}} 
\index{sercom.c@{sercom.c}!\_SERCOM\_PAD\_DEFAULTS\_CASE@{\_SERCOM\_PAD\_DEFAULTS\_CASE}}
\index{\_SERCOM\_PAD\_DEFAULTS\_CASE@{\_SERCOM\_PAD\_DEFAULTS\_CASE}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{\_SERCOM\_PAD\_DEFAULTS\_CASE}{\_SERCOM\_PAD\_DEFAULTS\_CASE}}
{\footnotesize\ttfamily \#define \+\_\+\+S\+E\+R\+C\+O\+M\+\_\+\+P\+A\+D\+\_\+\+D\+E\+F\+A\+U\+L\+T\+S\+\_\+\+C\+A\+SE(\begin{DoxyParamCaption}\item[{}]{n,  }\item[{}]{pad }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{case} (uintptr\_t)SERCOM\#\#n: \(\backslash\)}
\DoxyCodeLine{            switch (pad) \{ \(\backslash\)}
\DoxyCodeLine{                case 0: \(\backslash\)}
\DoxyCodeLine{                    return SERCOM\#\#n\#\#\_PAD0\_DEFAULT; \(\backslash\)}
\DoxyCodeLine{                case 1: \(\backslash\)}
\DoxyCodeLine{                    return SERCOM\#\#n\#\#\_PAD1\_DEFAULT; \(\backslash\)}
\DoxyCodeLine{                case 2: \(\backslash\)}
\DoxyCodeLine{                    return SERCOM\#\#n\#\#\_PAD2\_DEFAULT; \(\backslash\)}
\DoxyCodeLine{                case 3: \(\backslash\)}
\DoxyCodeLine{                    return SERCOM\#\#n\#\#\_PAD3\_DEFAULT; \(\backslash\)}
\DoxyCodeLine{            \} \(\backslash\)}
\DoxyCodeLine{            break;}

\end{DoxyCode}
\mbox{\Hypertarget{sercom_8c_adc38f1980cdcb7fca690ebe75c50770c}\label{sercom_8c_adc38f1980cdcb7fca690ebe75c50770c}} 
\index{sercom.c@{sercom.c}!BAUD\_FP\_MAX@{BAUD\_FP\_MAX}}
\index{BAUD\_FP\_MAX@{BAUD\_FP\_MAX}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{BAUD\_FP\_MAX}{BAUD\_FP\_MAX}}
{\footnotesize\ttfamily \#define B\+A\+U\+D\+\_\+\+F\+P\+\_\+\+M\+AX~8}

\mbox{\Hypertarget{sercom_8c_a573042a67c3d9987b574c99820eb92f3}\label{sercom_8c_a573042a67c3d9987b574c99820eb92f3}} 
\index{sercom.c@{sercom.c}!BAUD\_INT\_MAX@{BAUD\_INT\_MAX}}
\index{BAUD\_INT\_MAX@{BAUD\_INT\_MAX}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{BAUD\_INT\_MAX}{BAUD\_INT\_MAX}}
{\footnotesize\ttfamily \#define B\+A\+U\+D\+\_\+\+I\+N\+T\+\_\+\+M\+AX~8192}

\mbox{\Hypertarget{sercom_8c_ac179eef68bcc694aa0ef8dd1eb09950b}\label{sercom_8c_ac179eef68bcc694aa0ef8dd1eb09950b}} 
\index{sercom.c@{sercom.c}!SHIFT@{SHIFT}}
\index{SHIFT@{SHIFT}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{SHIFT}{SHIFT}}
{\footnotesize\ttfamily \#define S\+H\+I\+FT~32}



\subsection{Function Documentation}
\mbox{\Hypertarget{sercom_8c_a7cdb50f562d8dd6f57b479d411d749f8}\label{sercom_8c_a7cdb50f562d8dd6f57b479d411d749f8}} 
\index{sercom.c@{sercom.c}!\_sercom\_get\_async\_baud\_val@{\_sercom\_get\_async\_baud\_val}}
\index{\_sercom\_get\_async\_baud\_val@{\_sercom\_get\_async\_baud\_val}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{\_sercom\_get\_async\_baud\_val()}{\_sercom\_get\_async\_baud\_val()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\+\_\+code}} \+\_\+sercom\+\_\+get\+\_\+async\+\_\+baud\+\_\+val (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t}]{baudrate,  }\item[{const uint32\+\_\+t}]{peripheral\+\_\+clock,  }\item[{uint16\+\_\+t $\ast$const}]{baudval,  }\item[{enum \mbox{\hyperlink{drivers_2sercom_2sercom_8h_a05f9e8b65fff0120fce38ee4ddd40386}{sercom\+\_\+asynchronous\+\_\+operation\+\_\+mode}}}]{mode,  }\item[{enum \mbox{\hyperlink{drivers_2sercom_2sercom_8h_a6936fb2a7711cb55dc717256bbcacb12}{sercom\+\_\+asynchronous\+\_\+sample\+\_\+num}}}]{sample\+\_\+num }\end{DoxyParamCaption})}

\mbox{\Hypertarget{sercom_8c_aed7ed6bae9edba2fec050eaaf6ab1b7c}\label{sercom_8c_aed7ed6bae9edba2fec050eaaf6ab1b7c}} 
\index{sercom.c@{sercom.c}!\_sercom\_get\_default\_pad@{\_sercom\_get\_default\_pad}}
\index{\_sercom\_get\_default\_pad@{\_sercom\_get\_default\_pad}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{\_sercom\_get\_default\_pad()}{\_sercom\_get\_default\_pad()}}
{\footnotesize\ttfamily uint32\+\_\+t \+\_\+sercom\+\_\+get\+\_\+default\+\_\+pad (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{union_sercom}{Sercom}} $\ast$const}]{sercom\+\_\+module,  }\item[{const uint8\+\_\+t}]{pad }\end{DoxyParamCaption})}

\mbox{\Hypertarget{sercom_8c_af3213138e698446dc57b4844114ce93e}\label{sercom_8c_af3213138e698446dc57b4844114ce93e}} 
\index{sercom.c@{sercom.c}!\_sercom\_get\_sercom\_inst\_index@{\_sercom\_get\_sercom\_inst\_index}}
\index{\_sercom\_get\_sercom\_inst\_index@{\_sercom\_get\_sercom\_inst\_index}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{\_sercom\_get\_sercom\_inst\_index()}{\_sercom\_get\_sercom\_inst\_index()}}
{\footnotesize\ttfamily uint8\+\_\+t \+\_\+sercom\+\_\+get\+\_\+sercom\+\_\+inst\+\_\+index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{union_sercom}{Sercom}} $\ast$const}]{sercom\+\_\+instance }\end{DoxyParamCaption})}

\mbox{\Hypertarget{sercom_8c_afe45ab81cd4f98d88e53dfb636b22067}\label{sercom_8c_afe45ab81cd4f98d88e53dfb636b22067}} 
\index{sercom.c@{sercom.c}!\_sercom\_get\_sync\_baud\_val@{\_sercom\_get\_sync\_baud\_val}}
\index{\_sercom\_get\_sync\_baud\_val@{\_sercom\_get\_sync\_baud\_val}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{\_sercom\_get\_sync\_baud\_val()}{\_sercom\_get\_sync\_baud\_val()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\+\_\+code}} \+\_\+sercom\+\_\+get\+\_\+sync\+\_\+baud\+\_\+val (\begin{DoxyParamCaption}\item[{const uint32\+\_\+t}]{baudrate,  }\item[{const uint32\+\_\+t}]{external\+\_\+clock,  }\item[{uint16\+\_\+t $\ast$const}]{baudvalue }\end{DoxyParamCaption})}

\mbox{\Hypertarget{sercom_8c_a11de7a16f2be1223a140bfe1cd7bddca}\label{sercom_8c_a11de7a16f2be1223a140bfe1cd7bddca}} 
\index{sercom.c@{sercom.c}!sercom\_set\_gclk\_generator@{sercom\_set\_gclk\_generator}}
\index{sercom\_set\_gclk\_generator@{sercom\_set\_gclk\_generator}!sercom.c@{sercom.c}}
\subsubsection{\texorpdfstring{sercom\_set\_gclk\_generator()}{sercom\_set\_gclk\_generator()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\+\_\+code}} sercom\+\_\+set\+\_\+gclk\+\_\+generator (\begin{DoxyParamCaption}\item[{const enum \mbox{\hyperlink{group__asfdoc__sam0__system__clock__group_ga1ab9bb87560ad127ed982591b7d67311}{gclk\+\_\+generator}}}]{generator\+\_\+source,  }\item[{const \mbox{\hyperlink{group__group__sam0__utils_ga97a80ca1602ebf2303258971a2c938e2}{bool}}}]{force\+\_\+change }\end{DoxyParamCaption})}



Set G\+C\+LK channel to generator. 

This will set the appropriate G\+C\+LK channel to the requested G\+C\+LK generator. This will set the generator for all S\+E\+R\+C\+OM instances, and the user will thus only be able to set the same generator that has previously been set, if any.

After the generator has been set the first time, the generator can be changed using the {\ttfamily force\+\_\+change} flag.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em generator\+\_\+source} & The generator to use for S\+E\+R\+C\+OM. \\
\hline
\mbox{\texttt{ in}}  & {\em force\+\_\+change} & Force change the generator.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code indicating the G\+C\+LK generator change operation. 
\end{DoxyReturn}

\begin{DoxyRetVals}{Return values}
{\em S\+T\+A\+T\+U\+S\+\_\+\+OK} & If the generator update request was successful. \\
\hline
{\em S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+\_\+\+A\+L\+R\+E\+A\+D\+Y\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED} & If a generator was already configured and the new configuration was not forced. \\
\hline
\end{DoxyRetVals}
